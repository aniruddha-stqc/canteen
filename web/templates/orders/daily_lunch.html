<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Lunch Orders</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Lunch Orders</a>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row">
            <!-- Left Side: Input Fields -->
            <div class="col-md-6">
                <form id="orderForm">
                    <div class="mb-3">
                        <label for="mobile" class="form-label">Mobile Number</label>
                        <input type="text" class="form-control" id="mobile" placeholder="Enter customer's mobile number">
                    </div>
                    <div class="mb-3">
                        <label for="concession" class="form-label">Concession Type</label>
                        <select class="form-select" id="concession" disabled>
                            <option value="">Select...</option>
                            <option value="BOPT">BOPT</option>
                            <option value="FREE">FREE</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="thaliType" class="form-label">Thali Type</label>
                        <select class="form-select" id="thaliType" disabled>
                            <option value="">Select Thali...</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="extraItems" class="form-label">Extra Dishes</label>
                        <select class="form-select" id="extraItems" multiple disabled>
                            <!-- Options populated dynamically -->
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="paymentMode" class="form-label">Pay Rs 200 via</label>
                        <select class="form-select" id="paymentMode">
                            <option value="CASH">Cash</option>
                            <option value="BILL">Bill</option>
                            <option value="WALL">Wallet</option>
                        </select>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button type="button" id="confirmBtn" class="btn btn-primary">Confirm</button>
                        <button type="reset" id="clearBtn" class="btn btn-secondary">Clear</button>
                    </div>
                </form>
            </div>

            <!-- Right Side: Preview Card -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Order Summary</h5>
                        <p><strong>Mobile:</strong> <span id="summaryMobile">N/A</span></p>
                        <p><strong>Concession:</strong> <span id="summaryConcession">N/A</span></p>
                        <p><strong>Thali Type:</strong> <span id="summaryThali">N/A</span></p>
                        <p><strong>Extra Items:</strong> <span id="summaryExtras">N/A</span></p>
                        <p><strong>Payment Mode:</strong> <span id="summaryPaymentMode">N/A</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            // Simulate thali and extra items from database
            const thaliTypes = [
                { value: "NV_Chicken", text: "Non-Veg Chicken" },
                { value: "VG_Paneer", text: "Veg Paneer" }
            ];

            const extraItems = [
                { value: "OML_", text: "Omelette" },
                { value: "RIC_", text: "Extra Rice" },
                { value: "SBJ_", text: "Extra Sabji" },
                { value: "DAL_", text: "Extra Dal" }
            ];

            // Populate thali type dropdown
            thaliTypes.forEach(thali => {
                $('#thaliType').append(new Option(thali.text, thali.value));
            });

            // Populate extra items dropdown
            extraItems.forEach(extra => {
                $('#extraItems').append(new Option(extra.text, extra.value));
            });

            // Enable/disable fields based on conditions
            $('#mobile').on('input', function () {
                const mobile = $(this).val();
                if (mobile.length === 10) {
                    $('#concession').prop('disabled', false);
                } else {
                    $('#concession, #thaliType, #extraItems').prop('disabled', true).val('');
                }
            });

            $('#thaliType').on('change', function () {
                if ($(this).val()) {
                    $('#extraItems').prop('disabled', false);
                } else {
                    $('#extraItems').prop('disabled', true).val('');
                }
            });

            // Update the order summary
            $('#orderForm').on('input change', function () {
                $('#summaryMobile').text($('#mobile').val() || 'N/A');
                $('#summaryConcession').text($('#concession').val() || 'N/A');
                $('#summaryThali').text($('#thaliType option:selected').text() || 'N/A');
                $('#summaryExtras').text(
                    $('#extraItems option:selected').map(function () { return $(this).text(); }).get().join(', ') || 'N/A'
                );
                $('#summaryPaymentMode').text($('#paymentMode option:selected').text() || 'N/A');
            });

            // Handle confirm and clear buttons
            $('#confirmBtn').click(function () {
                alert('Order confirmed!');
                $('#orderForm')[0].reset();
                $('#summaryMobile, #summaryConcession, #summaryThali, #summaryExtras, #summaryPaymentMode').text('N/A');
                $('#concession, #thaliType, #extraItems').prop('disabled', true);
            });

            $('#clearBtn').click(function () {
                $('#summaryMobile, #summaryConcession, #summaryThali, #summaryExtras, #summaryPaymentMode').text('N/A');
                $('#concession, #thaliType, #extraItems').prop('disabled', true);
            });
        });
    </script>
</body>
</html>
