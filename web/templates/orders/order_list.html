{% load static %}  <!-- Load the static tag -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'lib/css/bootstrap.min.css' %}">  <!-- Use static tag for CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'lib/css/dataTables.bootstrap5.min.css' %}">  <!-- Use static tag for CSS -->
    <link rel="stylesheet" href="{% static 'lib/css/style.css' %}">  <!-- Use static tag for CSS -->
    <title>Order List</title>
</head>
<body>
    <!-- top navigation bar -->
    <nav class="navbar navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#sidebar"
          aria-controls="offcanvasExample"
        >
          <span class="navbar-toggler-icon" data-bs-target="#sidebar"></span>
        </button>
        <a class="navbar-brand me-auto ms-lg-0 ms-3 text-uppercase fw-bold" href="#">Canteen</a>
      </div>
      </nav>
    <!-- top navigation bar -->

    <!-- offcanvas -->
    <div class="offcanvas offcanvas-start sidebar-nav bg-dark" tabindex="-1" id="sidebar">
      <div class="offcanvas-body p-0">
        <nav class="navbar-dark">
          <ul class="navbar-nav">
            <li><div class="text-muted small fw-bold text-uppercase px-3">CORE</div></li>
            <li><a href="#" class="nav-link px-3 active"><span class="me-2"><i class="bi bi-speedometer2"></i></span> Dashboard</a></li>
            <li class="my-4"><hr class="dropdown-divider bg-light" /></li>
            <li><div class="text-muted small fw-bold text-uppercase px-3 mb-3">Interface</div></li>
            <li>
              <a href="/order_list/" class="nav-link px-3" target="_blank">
                <span class="me-2"><i class="bi bi-file-earmark-pdf"></i></span>Order List
              </a>
            </li>
            <!-- New "Order PDF" Link -->
            <li>
              <a href="/generate_pdf/" class="nav-link px-3" target="_blank">
                    <span class="me-2"><i class="bi bi-file-earmark-pdf"></i></span>Generate PDF
              </a>
            </li>
            <!-- End of New Link -->
            <!-- New "Logout" Link -->
            <li>
                <a href="#" class="nav-link px-3 disabled" onclick="return false;">
                    <span class="me-2"><i class="bi bi-file-earmark-pdf"></i></span>Logout
                </a>
            </li>
            <!-- End of "Logout"  Link -->
          </ul>
        </nav>
      </div>
    </div>
    <!-- offcanvas -->

    <main class="mt-5 pt-3">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12 mb-3">
            <div class="card">
              <div class="card-header">
                <span><i class="bi bi-table me-2"></i></span> Order List
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table id="example" class="table table-striped data-table" style="width: 100%">
                    <thead>
                      <tr>
                        <th>Order ID</th>
                        <th>Concession</th>
                        <th>Name</th>
                        <th>Mobile</th>
                        <th>Thali Type</th>
                        <th>Extras</th>
                        <th>Total Price</th>
                        <th>Pay Mode</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for order in orders %}
                        <tr>
                          <td>{{ order.order_id }}</td>
                          <td>{{ order.concession_category }}</td>
                          <td>{{ order.customer_name }}</td>
                          <td>{{ order.customer_mobile }}</td>
                          <td>{{ order.thali_type_name }}</td>
                          <td>
                                {% if order.extra_item1 %}{{ order.extra_item1_name }} {% endif %}
                                {% if order.extra_item2 %}{{ order.extra_item2_name }} {% endif %}
                                {% if order.extra_item3 %}{{ order.extra_item3_name }} {% endif %}
                                {% if order.extra_item4 %}{{ order.extra_item4_name }} {% endif %}
                          </td>
                          <td>{{ order.total_price }}</td>
                          <td>{{ order.pay_mode }}</td>
                        </tr>
                      {% endfor %}
                    </tbody>
                    <tfoot>
                      <tr>
                        <th>Order ID</th>
                        <th>Concession</th>
                        <th>Name</th>
                        <th>Mobile</th>
                        <th>Thali Type</th>
                        <th>Extras</th>
                        <th>Total Price</th>
                        <th>Pay Mode</th>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="{% static 'lib/js/bootstrap.bundle.min.js' %}"></script>  <!-- Use static tag for JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.2/dist/chart.min.js"></script>
    <script src="{% static 'lib/js/jquery-3.5.1.js' %}"></script>  <!-- Use static tag for JS -->
    <script src="{% static 'lib/js/jquery.dataTables.min.js' %}"></script>  <!-- Use static tag for JS -->
    <script src="{% static 'lib/js/dataTables.bootstrap5.min.js' %}"></script>  <!-- Use static tag for JS -->
    <script src="{% static 'lib/js/script.js' %}"></script>  <!-- Use static tag for JS -->
</body>
</html>
